<!DOCTYPE html>
<html lang="en">
<head>
	  <title>Focus Override</title>
    <meta charset='utf-8' />
    <meta name="description" content="Test : testing" />
    <link rel="stylesheet" type="text/css" media="screen" href="../css/stylesheet.css"> 
    <style type="text/css">
.btn,button,input[type=button],input[type=submit] {
    -webkit-border-radius: 2px;
    -moz-border-radius: 2px;
    border-radius: 2px;
    background: #004985;
    color: #fff;
    display: inline-block;
    font-size: 1.05rem;
    padding: .875rem 2rem;
    line-height: 1;
    font-weight: 700;
    border: 0;
    text-align: center;
    white-space: nowrap;
    width: auto;
    -moz-transition-duration: .2s;
    -webkit-transition-duration: .2s;
    -o-transition-duration: .2s;
    transition-duration: .2s
}

.btn:focus,.btn:hover,button:focus,button:hover,input[type=button]:focus,input[type=button]:hover,input[type=submit]:focus,input[type=submit]:hover {
    background: #005daa;
    color: #fff;
    text-decoration: none
}

.btn.enabled,button.enabled,input[type=button].enabled,input[type=submit].enabled {
    background: #004985
}

.btn.enabled:focus,.btn.enabled:hover,button.enabled:focus,button.enabled:hover,input[type=button].enabled:focus,input[type=button].enabled:hover,input[type=submit].enabled:focus,input[type=submit].enabled:hover {
    background: #005daa
}

.btn.disabled,button.disabled,input[type=button].disabled,input[type=submit].disabled {
    background: rgba(0,73,133,.5);
    cursor: default
}

.btn.primary,button.primary,input[type=button].primary,input[type=submit].primary {
    background: #3bad2f
}

.btn.primary:focus,.btn.primary:hover,button.primary:focus,button.primary:hover,input[type=button].primary:focus,input[type=button].primary:hover,input[type=submit].primary:focus,input[type=submit].primary:hover {
    background: #35c126
}

.btn.primary.disabled,button.primary.disabled,input[type=button].primary.disabled,input[type=submit].primary.disabled {
    background: rgba(59,173,47,.5)
}

.btn.tertiary,button.tertiary,input[type=button].tertiary,input[type=submit].tertiary {
    background: #888
}

.btn.tertiary:focus,.btn.tertiary:hover,button.tertiary:focus,button.tertiary:hover,input[type=button].tertiary:focus,input[type=button].tertiary:hover,input[type=submit].tertiary:focus,input[type=submit].tertiary:hover {
    background: #565656
}

.btn.cancel,button.cancel,input[type=button].cancel,input[type=submit].cancel {
    background: #b00
}

.btn.cancel:focus,.btn.cancel:hover,button.cancel:focus,button.cancel:hover,input[type=button].cancel:focus,input[type=button].cancel:hover,input[type=submit].cancel:focus,input[type=submit].cancel:hover {
    background: #dd4b39
}

.btn.cancel.disabled,button.cancel.disabled,input[type=button].cancel.disabled,input[type=submit].cancel.disabled {
    background: rgba(59,173,47,.5)
}

.btn.btn_small,button.btn_small,input[type=button].btn_small,input[type=submit].btn_small {
    font-size: .78125rem;
    padding: .3rem .3rem
}

.btn.btn_large,button.btn_large,input[type=button].btn_large,input[type=submit].btn_large {
    font-size: 1.125rem;
    padding: 1rem 1.5rem
}

.btn.btn_right_margin,button.btn_right_margin,input[type=button].btn_right_margin,input[type=submit].btn_right_margin {
    margin-right: 2rem
}    	
.order-status-details .btn,
.order-status-details input[type="button"],
.order-status-details input[type="submit"].btn {
  display: inline-block;
  border: 1px solid #CCCCCC;
  background: #0071D0;
  align-content: center;
  text-align: center;
  justify-content: center;
  align-items: center;
  padding: 14px 24px;
  font-size: 14px;
  font-weight: 700;
  height: 48px;
  border-radius: 4px;
  cursor: pointer;
}

.order-status-details .btn:hover, 
 .order-status-details .btn:focus {
  color: white;
  border-color: black;
  outline: none;
  background: #005DAA;
}
.order-status-details .btn:active {
  color: white;
  border-color: black;
  outline: none;
  background: #005DAA;
}

 .btn#focusVisible {
  display: inline-block;
  border: 1px solid #CCCCCC;
  background: #0071D0;
  align-content: center;
  text-align: center;
  justify-content: center;
  align-items: center;
  padding: 14px 24px;
  font-size: 14px;
  font-weight: 700;
  height: 48px;
  border-radius: 4px;
  cursor: pointer;
}
.btn#focusVisible:hover, 
.btn#focusVisible:focus-visible {
  color: white;
  border-color: black;
  outline: none;
  background: #005DAA;
}
.btn#focusVisible:active {
  color: white;
  border-color: black;
  outline: none;
  background: #005DAA;
}
    </style>
</head>
<body>
		<div id="wrapper">
			<div id="content">

	<input> <br><br><br><br><br>


	<div class="order-status-details">
		<a class="btn btn-secondary order_details_expand" data-uw-rm-kbnav="anohref" tabindex="0" href="#" role="button">
		    <span class="button_text" data-expand-text="Expand" data-collapse-text="Collapse">Expand with focus styles</span>
		    <span class="icon icon_Arrow_Down2"></span>
		</a>
	</div>
	<div>
		<a id="focusVisible" class="btn btn-secondary order_details_expand" data-uw-rm-kbnav="anohref" tabindex="0" href="#" role="button">
		    <span class="button_text" data-expand-text="Expand" data-collapse-text="Collapse">Expand with focus visible styles</span>
		    <span class="icon icon_Arrow_Down2"></span>
		</a>
	</div>

	<a href="#" id="test" title="title">Link text</a>



			</div> <!--content-->
		</div> <!--wrapper-->

<style type="text/css">
/*	
.order-status-details .btn:focus {
  color: white;
  border: 1px solid #CCCCCC;
  outline: none;
  background: #0071D0;
}
.order-status-details .btn:hover {
  color: white;
  border-color: black;
  outline: none;
  background: #005DAA;
}
.order-status-details .btn:focus-visible {
  color: white;
  border-color: red;
  background: #005DAA;
}
*/
</style>
	<script>

const getTextContent = (elem) => {
	function getText(e, strings) {
		if (e.nodeType === Node.TEXT_NODE) {
			strings.push(e.data);
		} else {
			// if an element for through all the children elements looking for text
			if (e.nodeType === Node.ELEMENT_NODE) {
				// check to see if IMG or AREA element and to use ALT content if defined
				const tagName = e.tagName.toLowerCase();
				if (tagName === "img" || tagName === "area") {
					if (e.alt) {
						strings.push(e.alt);
					}
				} else {
					let c = e.firstChild;
					while (c) {
						getText(c, strings);
						c = c.nextSibling;
					} // end loop
				}
			}
		}
	} // end function getStrings
	let str = "Test",
		strings = [];
	getText(elem, strings);
	if (strings.length) str = strings.join(" ");
	return str;
};

const getAccessibleName = (elem) => {
	if (!elem) return "";
	let labelledbyIds = elem.getAttribute("aria-labelledby"),
		name = "";
	if (labelledbyIds && labelledbyIds.length) {
		let str,
			strings = [],
			ids = labelledbyIds.split(" ");
		if (!ids.length) ids = [labelledbyIds];
		for (var i = 0, l = ids.length; i < l; i += 1) {
			var e = document.getElementById(ids[i]);
			if (e) str = getTextContent(e);
			if (str && str.length) strings.push(str);
		}
		return strings.join(" ");
	}
	const ariaLabel = elem.getAttribute("aria-label");
	if (ariaLabel) {
		return ariaLabel;
	}
	return getTextContent(elem);

	const title = elem.getAttribute("title");
	if (title) {
		return title || '';
	}

};
console.log("name", getAccessibleName(document.getElementById("test")));

	</script>
	
</body>
</html>
